function GenericSearchPath(a){this.searchGraph=a;this.openNodes=[]}GenericSearchPath.prototype.searchPath=function(f,b){var d,a,e,c;this.start=f;this.end=b;this.addOpenNode(f);this.setVisitedNode(f,f);while(this.openIsNotEmpty()){d=this.getOpenNode();a=this.searchGraph.getNodeContent(d);a.closed=true;if(d.x==b.x&&d.y==b.y){this.backtrackingPath(d);return true}e=this.getAdjacentNodes(d);for(c=0;c<e.length;c++){a=this.searchGraph.getNodeContent(e[c]);if(!a.blocked){if(!a.visited){this.setVisitedNode(e[c],d);this.addOpenNode(e[c])}else{if(a.visited){this.reviewClosedNode(e[c],d)}}}}}return false};GenericSearchPath.prototype.addOpenNode=function(a){this.openNodes.push(a)};GenericSearchPath.prototype.getOpenNode=function(){return this.openNodes.shift()};GenericSearchPath.prototype.getNodeContent=function(a){return this.searchGraph[a.y][a.x]};GenericSearchPath.prototype.setVisitedNode=function(c,a){var b=this.searchGraph.getNodeContent(c);b.visited=true;b.parent=a;b.text=this.getArrowSymbol(c,a)};GenericSearchPath.prototype.reviewOpenNode=function(b,a){};GenericSearchPath.prototype.reviewClosedNode=function(b,a){};GenericSearchPath.prototype.openIsNotEmpty=function(){if(this.openNodes.length===0){return false}return true};GenericSearchPath.prototype.getArrowSymbol=function(d,b){var c=d.x-b.x;var a=d.y-b.y;if(c===0&&a<0){return"\u2191"}else{if(c>0&&a<0){return"\u2197"}else{if(c>0&&a===0){return"\u2192"}else{if(c>0&&a>0){return"\u2198"}else{if(c===0&&a>0){return"\u2193"}else{if(c<0&&a>0){return"\u2199"}else{if(c<0&&a===0){return"\u2190"}else{if(c<0&&a<0){return"\u2196"}else{return""}}}}}}}}};GenericSearchPath.prototype.getMoveCusto=function(d,b){var c=d.x-b.x;var a=d.y-b.y;if(c===0||a===0){return 1}return 1.4142};GenericSearchPath.prototype.getAdjacentNodes=function(d,h){var g,i,a,c,j,f,e,b;g={x:d.x+0,y:d.y-1};i={x:d.x+1,y:d.y-1};a={x:d.x-1,y:d.y-1};c={x:d.x-1,y:d.y+0};j={x:d.x+1,y:d.y+0};f={x:d.x+0,y:d.y+1};b={x:d.x+1,y:d.y+1};e={x:d.x-1,y:d.y+1};if(eightEdges){return[g,j,f,c,i,b,e,a]}else{return[g,j,f,c]}};GenericSearchPath.prototype.backtrackingPath=function(c){var a;var b;do{a=this.searchGraph.getNodeContent(c).parent;b=c;c=a;this.searchGraph.getNodeContent(a).cor="yellow"}while(b.x!==c.x||b.y!==c.y)};function BreadthFirstSearchPath(a){GenericSearchPath.call(this,a)}BreadthFirstSearchPath.prototype=new GenericSearchPath();delete BreadthFirstSearchPath.prototype.openNodes;delete BreadthFirstSearchPath.prototype.searchGraph;function aStarGenericSearchPath(a){GenericSearchPath.call(this,a)}aStarGenericSearchPath.prototype=new GenericSearchPath();delete aStarGenericSearchPath.prototype.openNodes;delete aStarGenericSearchPath.prototype.searchGraph;aStarGenericSearchPath.prototype.addOpenNode=function(b){var e;var a=this.searchGraph.getNodeContent(b);var d=a.custo+a.estimado;if(this.openNodes.length===0){this.openNodes.unshift(b)}else{for(var c=0;c<this.openNodes.length;c++){e=this.searchGraph.getNodeContent(this.openNodes[c]);if(e.custo+e.estimado>d){this.openNodes.splice(c,0,b);return}}this.openNodes.push(b)}};aStarGenericSearchPath.prototype.setVisitedNode=function(d,b){GenericSearchPath.prototype.setVisitedNode.call(this,d,b);var c=this.searchGraph.getNodeContent(d);var a=this.searchGraph.getNodeContent(b);c.estimado=this.getEstimatedValue(d,b);c.custo=a.terrain*this.getMoveCusto(d,b)+a.custo};aStarGenericSearchPath.prototype.getEstimatedValue=function(b,a){return 0};aStarGenericSearchPath.prototype.reviewOpenNode=function(f,b){var c=this.searchGraph.getNodeContent(f);var a=this.searchGraph.getNodeContent(b);if(a.parent.x===f.x&&a.parent.y===f.y){return}var d=c.estimado+c.custo;var e=a.terrain*this.getMoveCusto(f,b)+a.custo+this.getEstimatedValue(f,b);if(e<d){this.setVisitedNode(f,b);this.addOpenNode(f)}};aStarGenericSearchPath.prototype.reviewClosedNode=function(f,b){var c=this.searchGraph.getNodeContent(f);var a=this.searchGraph.getNodeContent(b);if(a.parent.x===f.x&&a.parent.y===f.y){return}var d=c.estimado+c.custo;var e=a.terrain*this.getMoveCusto(f,b)+a.custo+this.getEstimatedValue(f,b);if(e<d){this.setVisitedNode(f,b);this.addOpenNode(f)}};function UniformCostSearchPath(a){aStarGenericSearchPath.call(this,a)}UniformCostSearchPath.prototype=new aStarGenericSearchPath();delete UniformCostSearchPath.prototype.openNodes;delete UniformCostSearchPath.prototype.searchGraph;function aStarDiagonalDistanceSearchPath(a){aStarGenericSearchPath.call(this,a)}aStarDiagonalDistanceSearchPath.prototype=new aStarGenericSearchPath();delete aStarDiagonalDistanceSearchPath.prototype.openNodes;delete aStarDiagonalDistanceSearchPath.prototype.searchGraph;aStarDiagonalDistanceSearchPath.prototype.getEstimatedValue=function(b,a){return Math.max(Math.abs(b.x-this.end.x),Math.abs(b.y-this.end.y))};function aStarManhattanDistanceSearchPath(a){aStarGenericSearchPath.call(this,a)}aStarManhattanDistanceSearchPath.prototype=new aStarGenericSearchPath();delete aStarManhattanDistanceSearchPath.prototype.openNodes;delete aStarManhattanDistanceSearchPath.prototype.searchGraph;aStarManhattanDistanceSearchPath.prototype.getEstimatedValue=function(b,a){return Math.abs(b.x-this.end.x)+Math.abs(b.y-this.end.y)};function aStarEuclideanDistanceSearchPath(a){aStarGenericSearchPath.call(this,a)}aStarEuclideanDistanceSearchPath.prototype=new aStarGenericSearchPath();delete aStarEuclideanDistanceSearchPath.prototype.openNodes;delete aStarEuclideanDistanceSearchPath.prototype.searchGraph;aStarEuclideanDistanceSearchPath.prototype.getEstimatedValue=function(f,b){var c=Math.abs(f.x-this.end.x);var a=Math.abs(f.y-this.end.y);var d=Math.pow(c,2);var e=Math.pow(a,2);return Math.sqrt(d+e)};function bestFirstSearchPath(a){aStarGenericSearchPath.call(this,a)}bestFirstSearchPath.prototype=new aStarGenericSearchPath();delete bestFirstSearchPath.prototype.openNodes;delete bestFirstSearchPath.prototype.searchGraph;bestFirstSearchPath.prototype.getEstimatedValue=function(f,b){var c=Math.abs(f.x-this.end.x);var a=Math.abs(f.y-this.end.y);var d=Math.pow(c,2);var e=Math.pow(a,2);return Math.pow((d+e),2)};function UniformCostSearchIPath(a){UniformCostSearchPath.call(this,a)}UniformCostSearchIPath.prototype=new UniformCostSearchPath();delete UniformCostSearchIPath.prototype.openNodes;delete UniformCostSearchIPath.prototype.searchGraph;UniformCostSearchIPath.prototype.reviewOpenNode=function(b,a){return};UniformCostSearchIPath.prototype.reviewClosedNode=function(b,a){return};function aStarDiagonalDistanceISearchPath(a){aStarDiagonalDistanceSearchPath.call(this,a)}aStarDiagonalDistanceISearchPath.prototype=new aStarDiagonalDistanceSearchPath();delete aStarDiagonalDistanceISearchPath.prototype.openNodes;delete aStarDiagonalDistanceISearchPath.prototype.searchGraph;aStarDiagonalDistanceISearchPath.prototype.reviewOpenNode=function(b,a){return};aStarDiagonalDistanceISearchPath.prototype.reviewClosedNode=function(b,a){return};function aStarManhattanDistanceISearchPath(a){aStarManhattanDistanceSearchPath.call(this,a)}aStarManhattanDistanceISearchPath.prototype=new aStarManhattanDistanceSearchPath();delete aStarManhattanDistanceISearchPath.prototype.openNodes;delete aStarManhattanDistanceISearchPath.prototype.searchGraph;aStarManhattanDistanceISearchPath.prototype.reviewOpenNode=function(b,a){return};aStarManhattanDistanceISearchPath.prototype.reviewClosedNode=function(b,a){return};function aStarEuclideanDistanceISearchPath(a){aStarEuclideanDistanceSearchPath.call(this,a)}aStarEuclideanDistanceISearchPath.prototype=new aStarEuclideanDistanceSearchPath();delete aStarEuclideanDistanceISearchPath.prototype.openNodes;delete aStarEuclideanDistanceISearchPath.prototype.searchGraph;aStarEuclideanDistanceISearchPath.prototype.reviewOpenNode=function(b,a){return};aStarEuclideanDistanceISearchPath.prototype.reviewClosedNode=function(b,a){return};function bestFirstISearchPath(a){bestFirstSearchPath.call(this,a)}bestFirstISearchPath.prototype=new bestFirstSearchPath();delete bestFirstISearchPath.prototype.openNodes;delete bestFirstISearchPath.prototype.searchGraph;bestFirstISearchPath.prototype.reviewOpenNode=function(b,a){return};bestFirstISearchPath.prototype.reviewClosedNode=function(b,a){return};